<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>OCHO</title>

<style>
html, body {
  height: 100%;
  margin: 0;
}

body {
  font-family: Arial, sans-serif;
  background: #000;
  display: flex;
  flex-direction: column;
  color: #fff;
}

/* =====================
   PARTE ALTA (PLAYER)
   ===================== */
.top {
  padding: 18px 16px 12px;
  text-align: center;
  background: linear-gradient(
    rgba(0,0,0,0.85),
    rgba(0,0,0,0.55)
  );
}

h2 {
  margin: 0 0 12px;
  font-size: 22px;
}

audio {
  width: min(520px, 95vw);
  border-radius: 12px;
}

.buttons {
  margin-top: 14px;
}

button {
  font-size: 18px;
  padding: 12px 18px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  background: rgba(255,255,255,0.92);
  box-shadow: 0 6px 18px rgba(0,0,0,0.4);
}

button + button {
  margin-left: 10px;
}

@media (max-width: 520px) {
  button {
    width: 100%;
  }
  button + button {
    margin-left: 0;
    margin-top: 10px;
  }
}

/* =====================
   PARTE BASSA (IMMAGINE)
   ===================== */
.bottom {
  flex: 1; /* prende tutto lo spazio restante */
  background-image: url("assets/sfondo.jpg");
  background-repeat: no-repeat;
  background-position: center bottom;
  background-size: contain; /* <-- NON TAGLIA */
}
</style>
</head>

<body>

  <!-- PARTE ALTA -->
  <div class="top">
    <h2>üéÅ OCHO üëΩ</h2>

    <audio id="player" controls preload="auto"></audio>

    <div class="buttons">
      <button id="btn">‚ñ∂Ô∏è Ascolta</button>
      <button id="altro">üîÅ Un altro</button>
    </div>
  </div>

  <!-- PARTE BASSA -->
  <div class="bottom"></div>

<script>
const TOTAL = 168;
const FOLDER = "mp3";
const SUFFIX = "_Chapter 0.mp3";

const player = document.getElementById("player");

function pad3(n) {
  return String(n).padStart(3, "0");
}

function loadRandom() {
  const n = Math.floor(Math.random() * TOTAL) + 1;
  const file = `${pad3(n)}${SUFFIX}`;
  player.src = `${FOLDER}/${encodeURIComponent(file)}`;
  player.load();
}

loadRandom();

document.getElementById("btn").onclick = async () => {
  try { await player.play(); } catch(e){}
};

document.getElementById("altro").onclick = async () => {
  loadRandom();
  try { await player.play(); } catch(e){}
};
</script>

</body>
</html>
