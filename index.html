<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OCHO v2.0</title>

  <style>
    :root{ 
      --green:#00ff9a; 
      --blue:#1f6fff; 
      --red:#ff2d2d;
      --dark:#0a0e0d;
      --glow-green: 0 0 15px rgba(0,255,154,.5), 0 0 30px rgba(0,255,154,.3);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:var(--dark);color:#eafff6;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;}
    body{overflow:hidden}

    /* Matrix Rain Background */
    #matrixCanvas{
      position:fixed;
      top:0;left:0;
      width:100%;height:100%;
      opacity:0.15;
      pointer-events:none;
      z-index:1;
    }

    /* Background container */
    .bg{
      position:fixed; inset:0;
      background:
        radial-gradient(1200px 700px at 50% 70%, rgba(0,255,154,.12), transparent 60%),
        radial-gradient(900px 500px at 50% 40%, rgba(0,255,154,.10), transparent 60%),
        url("assets/matrix.jpg") center/cover no-repeat;
      filter:saturate(1.1) contrast(1.08);
      transform:scale(1.02);
      z-index:2;
    }
    .vignette{
      position:fixed; 
      inset:-40px; 
      background:radial-gradient(circle at 50% 55%, transparent 35%, rgba(0,0,0,.8) 78%); 
      pointer-events:none;
      z-index:3;
    }
    .scanlines{
      position:fixed; 
      inset:0; 
      background:repeating-linear-gradient(to bottom, rgba(255,255,255,.02), rgba(255,255,255,.02) 1px, rgba(0,0,0,0) 3px, rgba(0,0,0,0) 6px); 
      mix-blend-mode:overlay; 
      opacity:.45; 
      pointer-events:none;
      z-index:4;
      animation:scan 8s linear infinite;
    }
    @keyframes scan{
      0%{transform:translateY(0)}
      100%{transform:translateY(10px)}
    }

    /* CRT Effect */
    .crt-overlay{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:5;
      background:
        radial-gradient(ellipse at center, transparent 0%, rgba(0,0,0,0.3) 100%);
      animation:crt-flicker 0.15s infinite;
    }
    @keyframes crt-flicker{
      0%{opacity:0.97}
      50%{opacity:1}
      100%{opacity:0.98}
    }

    /* Floating particles */
    .particles{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:3;
    }
    .particle{
      position:absolute;
      width:3px;
      height:3px;
      background:var(--green);
      border-radius:50%;
      opacity:0;
      animation:float 15s infinite;
      box-shadow:0 0 10px var(--green);
    }
    @keyframes float{
      0%{opacity:0;transform:translateY(100vh) translateX(0)}
      10%{opacity:0.6}
      90%{opacity:0.3}
      100%{opacity:0;transform:translateY(-20vh) translateX(100px)}
    }

    .wrap{
      position:relative;
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index:10;
    }
    .panel{
      width:min(980px,96vw); 
      height:min(640px,92vh);
      border:1px solid rgba(0,255,154,.35);
      border-radius:18px;
      background:linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.45));
      box-shadow:
        0 0 0 1px rgba(0,255,154,.15) inset, 
        0 0 40px rgba(0,255,154,.2),
        0 25px 80px rgba(0,0,0,.7);
      position:relative; 
      overflow:hidden;
      animation:panelGlow 3s ease-in-out infinite;
    }
    @keyframes panelGlow{
      0%, 100%{box-shadow:0 0 0 1px rgba(0,255,154,.15) inset, 0 0 40px rgba(0,255,154,.2), 0 25px 80px rgba(0,0,0,.7);}
      50%{box-shadow:0 0 0 1px rgba(0,255,154,.25) inset, 0 0 60px rgba(0,255,154,.3), 0 25px 80px rgba(0,0,0,.7);}
    }

    .hud{
      position:absolute; 
      left:16px; 
      right:16px; 
      top:14px;
      display:flex; 
      align-items:center; 
      justify-content:space-between; 
      gap:12px;
      pointer-events:none;
      z-index:20;
    }
    .brand{display:flex;flex-direction:column;gap:2px;}
    .brand b{
      letter-spacing:.30em;
      color:var(--green);
      text-shadow:var(--glow-green);
      font-size:14px;
      animation:glitch 5s infinite;
    }
    .brand small{
      font-size:10px;
      color:#7fffd4;
      opacity:0.7;
      letter-spacing:0.1em;
    }
    @keyframes glitch{
      0%, 90%, 100%{transform:translate(0)}
      91%{transform:translate(-2px, 1px)}
      92%{transform:translate(2px, -1px)}
      93%{transform:translate(0)}
    }

    .status{
      font-size:12px;
      color:#bfffe7;
      opacity:.9;
      text-align:right;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .status .dot{
      display:inline-block;
      width:8px;
      height:8px;
      border-radius:50%;
      background:var(--green);
      box-shadow:0 0 12px rgba(0,255,154,.8);
      animation:pulse 2s ease-in-out infinite;
    }
    @keyframes pulse{
      0%, 100%{opacity:1;transform:scale(1)}
      50%{opacity:0.6;transform:scale(0.9)}
    }

    .screen{
      position:absolute; 
      inset:0; 
      display:flex; 
      align-items:center; 
      justify-content:center; 
      padding:26px;
      opacity:0;
      transition:opacity 0.4s ease;
    }
    .screen.active{opacity:1;}
    .hidden{display:none;}

    .card{
      width:min(720px,92%);
      background:rgba(0,0,0,.55);
      border:1px solid rgba(0,255,154,.25);
      border-radius:18px;
      padding:26px 24px;
      box-shadow:
        0 0 0 1px rgba(0,255,154,.12) inset,
        0 10px 40px rgba(0,0,0,.5);
      backdrop-filter:blur(10px);
      text-align:center;
      transform:scale(0.95);
      transition:transform 0.4s ease;
    }
    .screen.active .card{transform:scale(1);}

    .title{
      margin:0 0 10px;
      font-size:26px;
      letter-spacing:.08em;
      text-shadow:0 0 20px rgba(0,255,154,.3);
      background:linear-gradient(135deg, #fff, var(--green));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
    }
    .subtitle{margin:0 0 14px;font-size:13px;line-height:1.45;opacity:.9;}
    .controls{margin-top:18px;display:flex;gap:14px;justify-content:center;flex-wrap:wrap;}

    .btn{
      appearance:none;
      border:1px solid rgba(255,255,255,.18);
      border-radius:16px;
      background:rgba(0,0,0,.6);
      color:#fff;
      padding:14px 20px;
      cursor:pointer;
      font-weight:900;
      letter-spacing:.06em;
      text-transform:uppercase;
      transition:all .2s ease;
      -webkit-tap-highlight-color:transparent;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      position:relative;
      overflow:hidden;
    }
    .btn:before{
      content:'';
      position:absolute;
      inset:0;
      background:linear-gradient(135deg, transparent, rgba(255,255,255,.1), transparent);
      transform:translateX(-100%);
      transition:transform 0.6s;
    }
    .btn:hover:before{transform:translateX(100%);}
    .btn:hover{
      transform:translateY(-2px) perspective(500px) rotateX(5deg);
      box-shadow:0 5px 20px rgba(0,255,154,.3);
    }
    .btn:active{transform:translateY(0) scale(.98);}
    .btn.blue{border-color:rgba(31,111,255,.4); box-shadow:0 0 15px rgba(31,111,255,.2);}
    .btn.blue:hover{box-shadow:0 5px 25px rgba(31,111,255,.4);}
    .btn.red{border-color:rgba(255,45,45,.4); box-shadow:0 0 15px rgba(255,45,45,.2);}
    .btn.red:hover{box-shadow:0 5px 25px rgba(255,45,45,.4);}
    .btn.green{border-color:rgba(0,255,154,.35); box-shadow:0 0 15px rgba(0,255,154,.2);}
    .btn.green:hover{box-shadow:0 5px 25px rgba(0,255,154,.4);}

    .pill{
      width:24px;
      height:14px;
      border-radius:999px;
      position:relative;
      display:inline-block;
      border:1px solid rgba(255,255,255,.2);
      overflow:hidden;
    }
    .pill:before,.pill:after{content:"";position:absolute;inset:0;width:50%;opacity:.95;}
    .pill:after{left:50%;}
    .pill.blue:before{background:rgba(31,111,255,.95);} 
    .pill.blue:after{background:rgba(0,0,0,.3);}
    .pill.red:before{background:rgba(255,45,45,.95);}   
    .pill.red:after{background:rgba(0,0,0,.3);}

    .menuGrid{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:14px;
      margin-top:16px;
    }
    .menuBtn{
      border:1px solid rgba(0,255,154,.22);
      background:rgba(0,0,0,.45);
      color:#dfffee;
      border-radius:16px;
      padding:18px 14px;
      cursor:pointer;
      font-weight:900;
      letter-spacing:.06em;
      text-transform:uppercase;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:8px;
      transition:all 0.3s ease;
      position:relative;
      overflow:hidden;
    }
    .menuBtn:hover{
      background:rgba(0,255,154,.08);
      border-color:rgba(0,255,154,.35);
      transform:translateY(-3px) perspective(500px) rotateX(5deg);
      box-shadow:0 8px 25px rgba(0,255,154,.25);
    }
    .menuBtn .icon{
      font-size:32px;
      text-shadow:0 0 15px rgba(0,255,154,.4);
    }
  </style>
</head>
<body>

<!-- Matrix Canvas -->
<canvas id="matrixCanvas"></canvas>

<!-- Background -->
<div class="bg" id="bg"></div>
<div class="vignette"></div>
<div class="scanlines"></div>
<div class="crt-overlay"></div>

<!-- Particles -->
<div class="particles" id="particles"></div>

<div class="wrap">
  <div class="panel">
    
    <!-- HUD -->
    <div class="hud">
      <div class="brand">
        <b>OCHO</b>
        <small>v2.0 ENHANCED</small>
      </div>
      <div class="status">
        <span id="statusText">Sistema</span>
        <span class="dot"></span>
      </div>
    </div>

    <!-- SCREEN: Enter -->
    <div class="screen active" id="screen-enter">
      <div class="card">
        <h1 class="title">OCHO</h1>
        <p class="subtitle">Sistema di riproduzione multimediale avanzato</p>
        <div class="controls">
          <button class="btn green" onclick="goToScreenEnter()">
            <span>‚ñ∂</span>
            <span>AVVIA SISTEMA</span>
          </button>
        </div>
      </div>
    </div>

    <!-- SCREEN: Pills -->
    <div class="screen hidden" id="screen-pills">
      <div class="card">
        <h2 class="title">Scelta Pillola</h2>
        <p class="subtitle">La pillola blu ti riporta alla realt√† ‚Ä¢ La rossa ti mostra il vero</p>
        <div class="controls">
          <button class="btn blue" onclick="openAnsa()">
            <span class="pill blue"></span>
            <span>Pillola Blu</span>
          </button>
          <button class="btn red" onclick="goToScreenMenu()">
            <span class="pill red"></span>
            <span>Pillola Rossa</span>
          </button>
        </div>
      </div>
    </div>

    <!-- SCREEN: Menu -->
    <div class="screen hidden" id="screen-menu">
      <div class="card">
        <h2 class="title">Selezione Categoria</h2>
        <p class="subtitle">Scegli il tipo di contenuto da riprodurre</p>
        
        <div class="menuGrid">
          <div class="menuBtn" onclick="alert('Audio - funzione in arrivo!')">
            <span class="icon">üéµ</span>
            <span>Audio</span>
          </div>
          <div class="menuBtn" onclick="alert('Immagini - funzione in arrivo!')">
            <span class="icon">üñºÔ∏è</span>
            <span>Immagini</span>
          </div>
          <div class="menuBtn" onclick="alert('Testi - funzione in arrivo!')">
            <span class="icon">üìÑ</span>
            <span>Testi</span>
          </div>
          <div class="menuBtn" onclick="alert('Video - funzione in arrivo!')">
            <span class="icon">üé¨</span>
            <span>Video</span>
          </div>
        </div>

        <div class="controls">
          <button class="btn" onclick="goToScreenPills()">
            <span>‚Üê</span>
            <span>Indietro</span>
          </button>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
console.log("üöÄ OCHO v2.0 Starting...");

// Configuration
const GITHUB_USER = "Fabri-Fab79";
const GITHUB_REPO = "OCHO";
const GITHUB_BRANCH = "main";
const RAW_BASE = `https://raw.githubusercontent.com/${GITHUB_USER}/${GITHUB_REPO}/${GITHUB_BRANCH}`;

// Matrix Effect
const matrixCanvas = document.getElementById("matrixCanvas");
const mCtx = matrixCanvas.getContext("2d");
matrixCanvas.width = window.innerWidth;
matrixCanvas.height = window.innerHeight;

const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*()";
const fontSize = 14;
const columns = Math.floor(matrixCanvas.width / fontSize);
const drops = Array(columns).fill(1);

function drawMatrix() {
  mCtx.fillStyle = "rgba(10,14,13,0.05)";
  mCtx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);
  mCtx.fillStyle = "#00ff9a";
  mCtx.font = `${fontSize}px monospace`;

  for (let i = 0; i < drops.length; i++) {
    const text = chars[Math.floor(Math.random() * chars.length)];
    mCtx.fillText(text, i * fontSize, drops[i] * fontSize);
    if (drops[i] * fontSize > matrixCanvas.height && Math.random() > 0.975) {
      drops[i] = 0;
    }
    drops[i]++;
  }
}

setInterval(drawMatrix, 50);

window.addEventListener("resize", () => {
  matrixCanvas.width = window.innerWidth;
  matrixCanvas.height = window.innerHeight;
});

// Particles
const particlesContainer = document.getElementById("particles");
for (let i = 0; i < 20; i++) {
  const p = document.createElement("div");
  p.className = "particle";
  p.style.left = Math.random() * 100 + "%";
  p.style.animationDelay = Math.random() * 15 + "s";
  p.style.animationDuration = (10 + Math.random() * 10) + "s";
  particlesContainer.appendChild(p);
}

// Functions
function setStatus(msg) {
  console.log("Status:", msg);
  document.getElementById("statusText").textContent = msg;
}

function showScreen(screenId) {
  console.log("Showing screen:", screenId);
  
  const screens = document.querySelectorAll(".screen");
  screens.forEach(s => {
    const shouldShow = s.id === `screen-${screenId}`;
    if (shouldShow) {
      s.classList.remove("hidden");
      setTimeout(() => s.classList.add("active"), 10);
    } else {
      s.classList.remove("active");
      setTimeout(() => s.classList.add("hidden"), 400);
    }
  });
}

// Screen Navigation Functions (onclick)
function goToScreenEnter() {
  console.log("‚úÖ Enter button clicked!");
  setStatus("Avvio‚Ä¶");
  
  // Try to change background
  try {
    const bg = document.getElementById("bg");
    bg.style.backgroundImage = `radial-gradient(1200px 700px at 50% 70%, rgba(0,255,154,.12), transparent 60%), radial-gradient(900px 500px at 50% 40%, rgba(0,255,154,.10), transparent 60%), url("${RAW_BASE}/assets/inizio.jpeg") center/cover no-repeat`;
  } catch(e) {
    console.log("Background skip:", e);
  }
  
  // Go to next screen
  setTimeout(() => {
    showScreen("pills");
    setStatus("Pronto");
  }, 200);
}

function openAnsa() {
  console.log("Opening ANSA...");
  window.open("https://www.ansa.it", "_blank");
}

function goToScreenMenu() {
  console.log("Going to menu...");
  showScreen("menu");
  setStatus("Menu");
}

function goToScreenPills() {
  console.log("Going to pills...");
  showScreen("pills");
  setStatus("Pronto");
}

console.log("‚úÖ OCHO v2.0 Ready!");
setStatus("In attesa‚Ä¶");
</script>

</body>
</html>
