<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>OCHO</title>

  <style>
    html, body { height: 100%; margin: 0; }

    body{
      font-family: Arial, sans-serif;
      text-align: center;

      /* SFONDO (cambia il path se serve) */
      background-image:
        linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.55)),
        url("assets/sfondo.jpg");
      background-size: cover;       /* si adatta a schermo */
      background-position: center;  /* centrato */
      background-repeat: no-repeat;

      display: flex;
      align-items: center;
      justify-content: center;
      padding: 28px;
      box-sizing: border-box;
    }

    /* ‚ÄúCARD‚Äù centrale per leggibilit√† */
    .card{
      width: min(720px, 95vw);
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 18px;
      padding: 22px 18px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 18px 50px rgba(0,0,0,0.35);
    }

    h2{
      margin: 0 0 16px 0;
      color: #fff;
      text-shadow: 0 2px 10px rgba(0,0,0,0.55);
      letter-spacing: 0.3px;
    }

    audio{
      width: min(520px, 95vw);
      border-radius: 12px;
    }

    .btns{ margin-top: 16px; }

    button{
      font-size: 18px;
      padding: 12px 18px;
      cursor: pointer;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.22);
      background: rgba(255,255,255,0.90);
      box-shadow: 0 8px 22px rgba(0,0,0,0.25);
    }
    button:hover{ transform: translateY(-1px); }

    button + button{ margin-left: 10px; }

    /* Mobile: bottoni in colonna */
    @media (max-width: 520px){
      button{ width: 100%; }
      button + button{ margin-left: 0; margin-top: 10px; }
    }
  </style>
</head>

<body>
  <div class="card">
    <h2>üéÅ OCHO üëΩ</h2>

    <audio id="player" controls preload="auto"></audio>

    <div class="btns">
      <button id="btn">‚ñ∂Ô∏è Ascolta</button>
      <button id="altro">üîÅ Un altro</button>
    </div>
  </div>

  <script>
    // ========= CONFIG =========
    const TOTAL = 168;        // NUMERO TOTALE DEI FILE MP3
    const FOLDER = "mp3";     // CARTELLA MP3 NEL REPO
    const SUFFIX = "_Chapter 0.mp3"; // SUFFISSO DEL NOME FILE

    const player = document.getElementById("player");

    function pad3(n) {
      return String(n).padStart(3, "0");
    }

    function loadRandom() {
      const n = Math.floor(Math.random() * TOTAL) + 1;
      const filename = `${pad3(n)}${SUFFIX}`;
      const url = `${FOLDER}/${encodeURIComponent(filename)}`;
      player.src = url;
      player.load();
    }

    // carica una traccia casuale all'apertura
    loadRandom();

    document.getElementById("btn").addEventListener("click", async () => {
      try { await player.play(); } catch (e) {}
    });

    document.getElementById("altro").addEventListener("click", async () => {
      loadRandom();
      try { await player.play(); } catch (e) {}
    });
  </script>
</body>
</html>
